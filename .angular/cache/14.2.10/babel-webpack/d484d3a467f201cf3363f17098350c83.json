{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/spacexGraphql.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\n\nconst _c0 = function (a1) {\n  return [\"/\", a1];\n};\n\nfunction LaunchListComponent_ng_container_0_mat_card_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 3)(1, \"mat-card-header\")(2, \"mat-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-subtitle\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"relativeTime\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const launch_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(6, _c0, launch_r3.id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(launch_r3.mission_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", launch_r3.rocket.rocket_name, \" - launched \", i0.ɵɵpipeBind1(6, 4, launch_r3.launch_date_utc), \"\");\n  }\n}\n\nfunction LaunchListComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"main\")(2, \"section\", 1);\n    i0.ɵɵtemplate(3, LaunchListComponent_ng_container_0_mat_card_3_Template, 7, 8, \"mat-card\", 2);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const pastLaunches_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", pastLaunches_r1);\n  }\n}\n\nexport class LaunchListComponent {\n  constructor(pastLaunchesService) {\n    this.pastLaunchesService = pastLaunchesService;\n    this.pastLaunches$ = this.pastLaunchesService // Please be care to not fetch too much, but this amount lets us see the img lazy loading in action\n    .fetch({\n      limit: 30\n    }).pipe(map(res => res.data.launchesPast));\n  }\n\n}\n\nLaunchListComponent.ɵfac = function LaunchListComponent_Factory(t) {\n  return new (t || LaunchListComponent)(i0.ɵɵdirectiveInject(i1.PastLaunchesListGQL));\n};\n\nLaunchListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LaunchListComponent,\n  selectors: [[\"app-launch-list\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [1, \"container\"], [3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"]],\n  template: function LaunchListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, LaunchListComponent_ng_container_0_Template, 4, 1, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.pastLaunches$));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsYXVuY2gtbGlzdC5jb21wb25lbnQuY3NzIn0= */\"],\n  changeDetection: 0\n});","map":{"version":3,"mappings":"AACA,SAASA,GAAT,QAAoB,gBAApB;;;;;;;;;;;;ICEQC,oCAGC,CAHD,EAGC,iBAHD,EAGC,CAHD,EAGC,gBAHD;IAaoBA;IAAyBA;IACzCA;IACGA;;IAC0CA;;;;;IAd/CA;IAWkBA;IAAAA;IAEbA;IAAAA;;;;;;IAlBfA;IACIA,6BAAM,CAAN,EAAM,SAAN,EAAM,CAAN;IAEIA;IA4BFA;IAEJA;;;;;IA7B2BA;IAAAA;;;;ADM7B,OAAM,MAAOC,mBAAP,CAA0B;EAC9BC,YAA6BC,mBAA7B,EAAqE;IAAxC;IAE7B,qBAAgB,KAAKA,mBAAL,CACd;IADc,CAEbC,KAFa,CAEP;MAAEC,KAAK,EAAE;IAAT,CAFO,EAGbC,IAHa,CAGRP,GAAG,CAAEQ,GAAD,IAASA,GAAG,CAACC,IAAJ,CAASC,YAAnB,CAHK,CAAhB;EAFyE;;AAD3C;;;mBAAnBR,qBAAmBD;AAAA;;;QAAnBC;EAAmBS;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVhCd;;;;;MAAeA","names":["map","i0","LaunchListComponent","constructor","pastLaunchesService","fetch","limit","pipe","res","data","launchesPast","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["F:\\Bureau\\Test_MachinesTalk\\MachinesTalk\\src\\app\\components\\launch-list\\launch-list.component.ts","F:\\Bureau\\Test_MachinesTalk\\MachinesTalk\\src\\app\\components\\launch-list\\launch-list.component.html"],"sourcesContent":["import { Component, ChangeDetectionStrategy } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { PastLaunchesListGQL } from 'src/app/services/spacexGraphql.service';\n\n@Component({\n  selector: 'app-launch-list',\n  templateUrl: './launch-list.component.html',\n  styleUrls: ['./launch-list.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LaunchListComponent {\n  constructor(private readonly pastLaunchesService: PastLaunchesListGQL) {}\n\n  pastLaunches$ = this.pastLaunchesService\n    // Please be care to not fetch too much, but this amount lets us see the img lazy loading in action\n    .fetch({ limit: 30 })\n    .pipe(map((res) => res.data.launchesPast));\n}\n","<ng-container *ngIf=\"pastLaunches$ | async as pastLaunches\">\n    <main>\n      <section class=\"container\">\n        <mat-card\n          *ngFor=\"let launch of pastLaunches\"\n          [routerLink]=\"['/', launch.id]\"\n        >\n          <mat-card-header>\n            <!-- <img\n              height=\"50\"\n              width=\"50\"\n              mat-card-avatar\n              loading=\"lazy\"\n              [src]=\"launch.links.mission_patch_small\"\n              alt=\"Mission patch of {{ launch.mission_name }}\"\n            /> -->\n            <mat-card-title>{{ launch.mission_name }}</mat-card-title>\n            <mat-card-subtitle\n              >{{ launch.rocket.rocket_name }} - launched\n              {{ launch.launch_date_utc | relativeTime }}</mat-card-subtitle\n            >\n          </mat-card-header>\n          <!-- <img\n            height=\"300\"\n            width=\"300\"\n            mat-card-image\n            loading=\"lazy\"\n            [src]=\"launch.links.flickr_images[0]\"\n            alt=\"Photo of {{ launch.mission_name }}\"\n          /> -->\n        </mat-card>\n      </section>\n    </main>\n  </ng-container>\n  "]},"metadata":{},"sourceType":"module"}