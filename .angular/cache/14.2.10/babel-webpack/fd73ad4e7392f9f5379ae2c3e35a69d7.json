{"ast":null,"code":"import { __assign, __spreadArray } from \"tslib\";\nimport { invariant } from \"../globals/index.js\";\nimport { visit } from 'graphql';\nimport { checkDocument, getOperationDefinition, getFragmentDefinition, getFragmentDefinitions, getMainDefinition } from \"./getFromAST.js\";\nimport { filterInPlace } from \"../common/filterInPlace.js\";\nimport { isField, isInlineFragment } from \"./storeUtils.js\";\nimport { createFragmentMap } from \"./fragments.js\";\nvar TYPENAME_FIELD = {\n  kind: 'Field',\n  name: {\n    kind: 'Name',\n    value: '__typename'\n  }\n};\n\nfunction isEmpty(op, fragmentMap) {\n  return !op || op.selectionSet.selections.every(function (selection) {\n    return selection.kind === 'FragmentSpread' && isEmpty(fragmentMap[selection.name.value], fragmentMap);\n  });\n}\n\nfunction nullIfDocIsEmpty(doc) {\n  return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc))) ? null : doc;\n}\n\nfunction getDirectiveMatcher(directives) {\n  return function directiveMatcher(directive) {\n    return directives.some(function (dir) {\n      return dir.name && dir.name === directive.name.value || dir.test && dir.test(directive);\n    });\n  };\n}\n\nexport function removeDirectivesFromDocument(directives, doc) {\n  var variablesInUse = Object.create(null);\n  var variablesToRemove = [];\n  var fragmentSpreadsInUse = Object.create(null);\n  var fragmentSpreadsToRemove = [];\n  var modifiedDoc = nullIfDocIsEmpty(visit(doc, {\n    Variable: {\n      enter: function (node, _key, parent) {\n        if (parent.kind !== 'VariableDefinition') {\n          variablesInUse[node.name.value] = true;\n        }\n      }\n    },\n    Field: {\n      enter: function (node) {\n        if (directives && node.directives) {\n          var shouldRemoveField = directives.some(function (directive) {\n            return directive.remove;\n          });\n\n          if (shouldRemoveField && node.directives && node.directives.some(getDirectiveMatcher(directives))) {\n            if (node.arguments) {\n              node.arguments.forEach(function (arg) {\n                if (arg.value.kind === 'Variable') {\n                  variablesToRemove.push({\n                    name: arg.value.name.value\n                  });\n                }\n              });\n            }\n\n            if (node.selectionSet) {\n              getAllFragmentSpreadsFromSelectionSet(node.selectionSet).forEach(function (frag) {\n                fragmentSpreadsToRemove.push({\n                  name: frag.name.value\n                });\n              });\n            }\n\n            return null;\n          }\n        }\n      }\n    },\n    FragmentSpread: {\n      enter: function (node) {\n        fragmentSpreadsInUse[node.name.value] = true;\n      }\n    },\n    Directive: {\n      enter: function (node) {\n        if (getDirectiveMatcher(directives)(node)) {\n          return null;\n        }\n      }\n    }\n  }));\n\n  if (modifiedDoc && filterInPlace(variablesToRemove, function (v) {\n    return !!v.name && !variablesInUse[v.name];\n  }).length) {\n    modifiedDoc = removeArgumentsFromDocument(variablesToRemove, modifiedDoc);\n  }\n\n  if (modifiedDoc && filterInPlace(fragmentSpreadsToRemove, function (fs) {\n    return !!fs.name && !fragmentSpreadsInUse[fs.name];\n  }).length) {\n    modifiedDoc = removeFragmentSpreadFromDocument(fragmentSpreadsToRemove, modifiedDoc);\n  }\n\n  return modifiedDoc;\n}\nexport var addTypenameToDocument = Object.assign(function (doc) {\n  return visit(doc, {\n    SelectionSet: {\n      enter: function (node, _key, parent) {\n        if (parent && parent.kind === 'OperationDefinition') {\n          return;\n        }\n\n        var selections = node.selections;\n\n        if (!selections) {\n          return;\n        }\n\n        var skip = selections.some(function (selection) {\n          return isField(selection) && (selection.name.value === '__typename' || selection.name.value.lastIndexOf('__', 0) === 0);\n        });\n\n        if (skip) {\n          return;\n        }\n\n        var field = parent;\n\n        if (isField(field) && field.directives && field.directives.some(function (d) {\n          return d.name.value === 'export';\n        })) {\n          return;\n        }\n\n        return __assign(__assign({}, node), {\n          selections: __spreadArray(__spreadArray([], selections, true), [TYPENAME_FIELD], false)\n        });\n      }\n    }\n  });\n}, {\n  added: function (field) {\n    return field === TYPENAME_FIELD;\n  }\n});\nvar connectionRemoveConfig = {\n  test: function (directive) {\n    var willRemove = directive.name.value === 'connection';\n\n    if (willRemove) {\n      if (!directive.arguments || !directive.arguments.some(function (arg) {\n        return arg.name.value === 'key';\n      })) {\n        __DEV__ && invariant.warn('Removing an @connection directive even though it does not have a key. ' + 'You may want to use the key parameter to specify a store key.');\n      }\n    }\n\n    return willRemove;\n  }\n};\nexport function removeConnectionDirectiveFromDocument(doc) {\n  return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\n}\n\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\n  if (nestedCheck === void 0) {\n    nestedCheck = true;\n  }\n\n  return !!selectionSet && selectionSet.selections && selectionSet.selections.some(function (selection) {\n    return hasDirectivesInSelection(directives, selection, nestedCheck);\n  });\n}\n\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\n  if (nestedCheck === void 0) {\n    nestedCheck = true;\n  }\n\n  if (!isField(selection)) {\n    return true;\n  }\n\n  if (!selection.directives) {\n    return false;\n  }\n\n  return selection.directives.some(getDirectiveMatcher(directives)) || nestedCheck && hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck);\n}\n\nfunction getArgumentMatcher(config) {\n  return function argumentMatcher(argument) {\n    return config.some(function (aConfig) {\n      return argument.value && argument.value.kind === 'Variable' && argument.value.name && (aConfig.name === argument.value.name.value || aConfig.test && aConfig.test(argument));\n    });\n  };\n}\n\nexport function removeArgumentsFromDocument(config, doc) {\n  var argMatcher = getArgumentMatcher(config);\n  return nullIfDocIsEmpty(visit(doc, {\n    OperationDefinition: {\n      enter: function (node) {\n        return __assign(__assign({}, node), {\n          variableDefinitions: node.variableDefinitions ? node.variableDefinitions.filter(function (varDef) {\n            return !config.some(function (arg) {\n              return arg.name === varDef.variable.name.value;\n            });\n          }) : []\n        });\n      }\n    },\n    Field: {\n      enter: function (node) {\n        var shouldRemoveField = config.some(function (argConfig) {\n          return argConfig.remove;\n        });\n\n        if (shouldRemoveField) {\n          var argMatchCount_1 = 0;\n\n          if (node.arguments) {\n            node.arguments.forEach(function (arg) {\n              if (argMatcher(arg)) {\n                argMatchCount_1 += 1;\n              }\n            });\n          }\n\n          if (argMatchCount_1 === 1) {\n            return null;\n          }\n        }\n      }\n    },\n    Argument: {\n      enter: function (node) {\n        if (argMatcher(node)) {\n          return null;\n        }\n      }\n    }\n  }));\n}\nexport function removeFragmentSpreadFromDocument(config, doc) {\n  function enter(node) {\n    if (config.some(function (def) {\n      return def.name === node.name.value;\n    })) {\n      return null;\n    }\n  }\n\n  return nullIfDocIsEmpty(visit(doc, {\n    FragmentSpread: {\n      enter: enter\n    },\n    FragmentDefinition: {\n      enter: enter\n    }\n  }));\n}\n\nfunction getAllFragmentSpreadsFromSelectionSet(selectionSet) {\n  var allFragments = [];\n  selectionSet.selections.forEach(function (selection) {\n    if ((isField(selection) || isInlineFragment(selection)) && selection.selectionSet) {\n      getAllFragmentSpreadsFromSelectionSet(selection.selectionSet).forEach(function (frag) {\n        return allFragments.push(frag);\n      });\n    } else if (selection.kind === 'FragmentSpread') {\n      allFragments.push(selection);\n    }\n  });\n  return allFragments;\n}\n\nexport function buildQueryFromSelectionSet(document) {\n  var definition = getMainDefinition(document);\n  var definitionOperation = definition.operation;\n\n  if (definitionOperation === 'query') {\n    return document;\n  }\n\n  var modifiedDoc = visit(document, {\n    OperationDefinition: {\n      enter: function (node) {\n        return __assign(__assign({}, node), {\n          operation: 'query'\n        });\n      }\n    }\n  });\n  return modifiedDoc;\n}\nexport function removeClientSetsFromDocument(document) {\n  checkDocument(document);\n  var modifiedDoc = removeDirectivesFromDocument([{\n    test: function (directive) {\n      return directive.name.value === 'client';\n    },\n    remove: true\n  }], document);\n\n  if (modifiedDoc) {\n    modifiedDoc = visit(modifiedDoc, {\n      FragmentDefinition: {\n        enter: function (node) {\n          if (node.selectionSet) {\n            var isTypenameOnly = node.selectionSet.selections.every(function (selection) {\n              return isField(selection) && selection.name.value === '__typename';\n            });\n\n            if (isTypenameOnly) {\n              return null;\n            }\n          }\n        }\n      }\n    });\n  }\n\n  return modifiedDoc;\n}","map":{"version":3,"names":["__assign","__spreadArray","invariant","visit","checkDocument","getOperationDefinition","getFragmentDefinition","getFragmentDefinitions","getMainDefinition","filterInPlace","isField","isInlineFragment","createFragmentMap","TYPENAME_FIELD","kind","name","value","isEmpty","op","fragmentMap","selectionSet","selections","every","selection","nullIfDocIsEmpty","doc","getDirectiveMatcher","directives","directiveMatcher","directive","some","dir","test","removeDirectivesFromDocument","variablesInUse","Object","create","variablesToRemove","fragmentSpreadsInUse","fragmentSpreadsToRemove","modifiedDoc","Variable","enter","node","_key","parent","Field","shouldRemoveField","remove","arguments","forEach","arg","push","getAllFragmentSpreadsFromSelectionSet","frag","FragmentSpread","Directive","v","length","removeArgumentsFromDocument","fs","removeFragmentSpreadFromDocument","addTypenameToDocument","assign","SelectionSet","skip","lastIndexOf","field","d","added","connectionRemoveConfig","willRemove","__DEV__","warn","removeConnectionDirectiveFromDocument","hasDirectivesInSelectionSet","nestedCheck","hasDirectivesInSelection","getArgumentMatcher","config","argumentMatcher","argument","aConfig","argMatcher","OperationDefinition","variableDefinitions","filter","varDef","variable","argConfig","argMatchCount_1","Argument","def","FragmentDefinition","allFragments","buildQueryFromSelectionSet","document","definition","definitionOperation","operation","removeClientSetsFromDocument","isTypenameOnly"],"sources":["F:/Bureau/Test_MachinesTalk/MachinesTalk/node_modules/@apollo/client/utilities/graphql/transform.js"],"sourcesContent":["import { __assign, __spreadArray } from \"tslib\";\nimport { invariant } from \"../globals/index.js\";\nimport { visit, } from 'graphql';\nimport { checkDocument, getOperationDefinition, getFragmentDefinition, getFragmentDefinitions, getMainDefinition, } from \"./getFromAST.js\";\nimport { filterInPlace } from \"../common/filterInPlace.js\";\nimport { isField, isInlineFragment } from \"./storeUtils.js\";\nimport { createFragmentMap, } from \"./fragments.js\";\nvar TYPENAME_FIELD = {\n    kind: 'Field',\n    name: {\n        kind: 'Name',\n        value: '__typename',\n    },\n};\nfunction isEmpty(op, fragmentMap) {\n    return !op || op.selectionSet.selections.every(function (selection) { return selection.kind === 'FragmentSpread' &&\n        isEmpty(fragmentMap[selection.name.value], fragmentMap); });\n}\nfunction nullIfDocIsEmpty(doc) {\n    return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc)))\n        ? null\n        : doc;\n}\nfunction getDirectiveMatcher(directives) {\n    return function directiveMatcher(directive) {\n        return directives.some(function (dir) {\n            return (dir.name && dir.name === directive.name.value) ||\n                (dir.test && dir.test(directive));\n        });\n    };\n}\nexport function removeDirectivesFromDocument(directives, doc) {\n    var variablesInUse = Object.create(null);\n    var variablesToRemove = [];\n    var fragmentSpreadsInUse = Object.create(null);\n    var fragmentSpreadsToRemove = [];\n    var modifiedDoc = nullIfDocIsEmpty(visit(doc, {\n        Variable: {\n            enter: function (node, _key, parent) {\n                if (parent.kind !== 'VariableDefinition') {\n                    variablesInUse[node.name.value] = true;\n                }\n            },\n        },\n        Field: {\n            enter: function (node) {\n                if (directives && node.directives) {\n                    var shouldRemoveField = directives.some(function (directive) { return directive.remove; });\n                    if (shouldRemoveField &&\n                        node.directives &&\n                        node.directives.some(getDirectiveMatcher(directives))) {\n                        if (node.arguments) {\n                            node.arguments.forEach(function (arg) {\n                                if (arg.value.kind === 'Variable') {\n                                    variablesToRemove.push({\n                                        name: arg.value.name.value,\n                                    });\n                                }\n                            });\n                        }\n                        if (node.selectionSet) {\n                            getAllFragmentSpreadsFromSelectionSet(node.selectionSet).forEach(function (frag) {\n                                fragmentSpreadsToRemove.push({\n                                    name: frag.name.value,\n                                });\n                            });\n                        }\n                        return null;\n                    }\n                }\n            },\n        },\n        FragmentSpread: {\n            enter: function (node) {\n                fragmentSpreadsInUse[node.name.value] = true;\n            },\n        },\n        Directive: {\n            enter: function (node) {\n                if (getDirectiveMatcher(directives)(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n    if (modifiedDoc &&\n        filterInPlace(variablesToRemove, function (v) { return !!v.name && !variablesInUse[v.name]; }).length) {\n        modifiedDoc = removeArgumentsFromDocument(variablesToRemove, modifiedDoc);\n    }\n    if (modifiedDoc &&\n        filterInPlace(fragmentSpreadsToRemove, function (fs) { return !!fs.name && !fragmentSpreadsInUse[fs.name]; })\n            .length) {\n        modifiedDoc = removeFragmentSpreadFromDocument(fragmentSpreadsToRemove, modifiedDoc);\n    }\n    return modifiedDoc;\n}\nexport var addTypenameToDocument = Object.assign(function (doc) {\n    return visit(doc, {\n        SelectionSet: {\n            enter: function (node, _key, parent) {\n                if (parent &&\n                    parent.kind === 'OperationDefinition') {\n                    return;\n                }\n                var selections = node.selections;\n                if (!selections) {\n                    return;\n                }\n                var skip = selections.some(function (selection) {\n                    return (isField(selection) &&\n                        (selection.name.value === '__typename' ||\n                            selection.name.value.lastIndexOf('__', 0) === 0));\n                });\n                if (skip) {\n                    return;\n                }\n                var field = parent;\n                if (isField(field) &&\n                    field.directives &&\n                    field.directives.some(function (d) { return d.name.value === 'export'; })) {\n                    return;\n                }\n                return __assign(__assign({}, node), { selections: __spreadArray(__spreadArray([], selections, true), [TYPENAME_FIELD], false) });\n            },\n        },\n    });\n}, {\n    added: function (field) {\n        return field === TYPENAME_FIELD;\n    },\n});\nvar connectionRemoveConfig = {\n    test: function (directive) {\n        var willRemove = directive.name.value === 'connection';\n        if (willRemove) {\n            if (!directive.arguments ||\n                !directive.arguments.some(function (arg) { return arg.name.value === 'key'; })) {\n                __DEV__ && invariant.warn('Removing an @connection directive even though it does not have a key. ' +\n                    'You may want to use the key parameter to specify a store key.');\n            }\n        }\n        return willRemove;\n    },\n};\nexport function removeConnectionDirectiveFromDocument(doc) {\n    return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\n}\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    return (!!selectionSet &&\n        selectionSet.selections &&\n        selectionSet.selections.some(function (selection) {\n            return hasDirectivesInSelection(directives, selection, nestedCheck);\n        }));\n}\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    if (!isField(selection)) {\n        return true;\n    }\n    if (!selection.directives) {\n        return false;\n    }\n    return (selection.directives.some(getDirectiveMatcher(directives)) ||\n        (nestedCheck &&\n            hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck)));\n}\nfunction getArgumentMatcher(config) {\n    return function argumentMatcher(argument) {\n        return config.some(function (aConfig) {\n            return argument.value &&\n                argument.value.kind === 'Variable' &&\n                argument.value.name &&\n                (aConfig.name === argument.value.name.value ||\n                    (aConfig.test && aConfig.test(argument)));\n        });\n    };\n}\nexport function removeArgumentsFromDocument(config, doc) {\n    var argMatcher = getArgumentMatcher(config);\n    return nullIfDocIsEmpty(visit(doc, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions ? node.variableDefinitions.filter(function (varDef) {\n                        return !config.some(function (arg) { return arg.name === varDef.variable.name.value; });\n                    }) : [] });\n            },\n        },\n        Field: {\n            enter: function (node) {\n                var shouldRemoveField = config.some(function (argConfig) { return argConfig.remove; });\n                if (shouldRemoveField) {\n                    var argMatchCount_1 = 0;\n                    if (node.arguments) {\n                        node.arguments.forEach(function (arg) {\n                            if (argMatcher(arg)) {\n                                argMatchCount_1 += 1;\n                            }\n                        });\n                    }\n                    if (argMatchCount_1 === 1) {\n                        return null;\n                    }\n                }\n            },\n        },\n        Argument: {\n            enter: function (node) {\n                if (argMatcher(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n}\nexport function removeFragmentSpreadFromDocument(config, doc) {\n    function enter(node) {\n        if (config.some(function (def) { return def.name === node.name.value; })) {\n            return null;\n        }\n    }\n    return nullIfDocIsEmpty(visit(doc, {\n        FragmentSpread: { enter: enter },\n        FragmentDefinition: { enter: enter },\n    }));\n}\nfunction getAllFragmentSpreadsFromSelectionSet(selectionSet) {\n    var allFragments = [];\n    selectionSet.selections.forEach(function (selection) {\n        if ((isField(selection) || isInlineFragment(selection)) &&\n            selection.selectionSet) {\n            getAllFragmentSpreadsFromSelectionSet(selection.selectionSet).forEach(function (frag) { return allFragments.push(frag); });\n        }\n        else if (selection.kind === 'FragmentSpread') {\n            allFragments.push(selection);\n        }\n    });\n    return allFragments;\n}\nexport function buildQueryFromSelectionSet(document) {\n    var definition = getMainDefinition(document);\n    var definitionOperation = definition.operation;\n    if (definitionOperation === 'query') {\n        return document;\n    }\n    var modifiedDoc = visit(document, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { operation: 'query' });\n            },\n        },\n    });\n    return modifiedDoc;\n}\nexport function removeClientSetsFromDocument(document) {\n    checkDocument(document);\n    var modifiedDoc = removeDirectivesFromDocument([\n        {\n            test: function (directive) { return directive.name.value === 'client'; },\n            remove: true,\n        },\n    ], document);\n    if (modifiedDoc) {\n        modifiedDoc = visit(modifiedDoc, {\n            FragmentDefinition: {\n                enter: function (node) {\n                    if (node.selectionSet) {\n                        var isTypenameOnly = node.selectionSet.selections.every(function (selection) {\n                            return isField(selection) && selection.name.value === '__typename';\n                        });\n                        if (isTypenameOnly) {\n                            return null;\n                        }\n                    }\n                },\n            },\n        });\n    }\n    return modifiedDoc;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}