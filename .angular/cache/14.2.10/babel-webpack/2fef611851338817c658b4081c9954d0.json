{"ast":null,"code":"import { __assign } from \"tslib\";\nimport \"../../utilities/globals/index.js\";\nimport { Trie } from \"@wry/trie\";\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray } from \"../../utilities/index.js\";\nimport { isArray } from \"./helpers.js\";\n\nfunction shallowCopy(value) {\n  if (isObjectOrArray(value)) {\n    return isArray(value) ? value.slice(0) : __assign({\n      __proto__: Object.getPrototypeOf(value)\n    }, value);\n  }\n\n  return value;\n}\n\nvar ObjectCanon = function () {\n  function ObjectCanon() {\n    this.known = new (canUseWeakSet ? WeakSet : Set)();\n    this.pool = new Trie(canUseWeakMap);\n    this.passes = new WeakMap();\n    this.keysByJSON = new Map();\n    this.empty = this.admit({});\n  }\n\n  ObjectCanon.prototype.isKnown = function (value) {\n    return isObjectOrArray(value) && this.known.has(value);\n  };\n\n  ObjectCanon.prototype.pass = function (value) {\n    if (isObjectOrArray(value)) {\n      var copy = shallowCopy(value);\n      this.passes.set(copy, value);\n      return copy;\n    }\n\n    return value;\n  };\n\n  ObjectCanon.prototype.admit = function (value) {\n    var _this = this;\n\n    if (isObjectOrArray(value)) {\n      var original = this.passes.get(value);\n      if (original) return original;\n      var proto = Object.getPrototypeOf(value);\n\n      switch (proto) {\n        case Array.prototype:\n          {\n            if (this.known.has(value)) return value;\n            var array = value.map(this.admit, this);\n            var node = this.pool.lookupArray(array);\n\n            if (!node.array) {\n              this.known.add(node.array = array);\n\n              if (__DEV__) {\n                Object.freeze(array);\n              }\n            }\n\n            return node.array;\n          }\n\n        case null:\n        case Object.prototype:\n          {\n            if (this.known.has(value)) return value;\n            var proto_1 = Object.getPrototypeOf(value);\n            var array_1 = [proto_1];\n            var keys = this.sortedKeys(value);\n            array_1.push(keys.json);\n            var firstValueIndex_1 = array_1.length;\n            keys.sorted.forEach(function (key) {\n              array_1.push(_this.admit(value[key]));\n            });\n            var node = this.pool.lookupArray(array_1);\n\n            if (!node.object) {\n              var obj_1 = node.object = Object.create(proto_1);\n              this.known.add(obj_1);\n              keys.sorted.forEach(function (key, i) {\n                obj_1[key] = array_1[firstValueIndex_1 + i];\n              });\n\n              if (__DEV__) {\n                Object.freeze(obj_1);\n              }\n            }\n\n            return node.object;\n          }\n      }\n    }\n\n    return value;\n  };\n\n  ObjectCanon.prototype.sortedKeys = function (obj) {\n    var keys = Object.keys(obj);\n    var node = this.pool.lookupArray(keys);\n\n    if (!node.keys) {\n      keys.sort();\n      var json = JSON.stringify(keys);\n\n      if (!(node.keys = this.keysByJSON.get(json))) {\n        this.keysByJSON.set(json, node.keys = {\n          sorted: keys,\n          json: json\n        });\n      }\n    }\n\n    return node.keys;\n  };\n\n  return ObjectCanon;\n}();\n\nexport { ObjectCanon };\nexport var canonicalStringify = Object.assign(function (value) {\n  if (isObjectOrArray(value)) {\n    if (stringifyCanon === void 0) {\n      resetCanonicalStringify();\n    }\n\n    var canonical = stringifyCanon.admit(value);\n    var json = stringifyCache.get(canonical);\n\n    if (json === void 0) {\n      stringifyCache.set(canonical, json = JSON.stringify(canonical));\n    }\n\n    return json;\n  }\n\n  return JSON.stringify(value);\n}, {\n  reset: resetCanonicalStringify\n});\nvar stringifyCanon;\nvar stringifyCache;\n\nfunction resetCanonicalStringify() {\n  stringifyCanon = new ObjectCanon();\n  stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\n}","map":{"version":3,"names":["__assign","Trie","canUseWeakMap","canUseWeakSet","isNonNullObject","isObjectOrArray","isArray","shallowCopy","value","slice","__proto__","Object","getPrototypeOf","ObjectCanon","known","WeakSet","Set","pool","passes","WeakMap","keysByJSON","Map","empty","admit","prototype","isKnown","has","pass","copy","set","_this","original","get","proto","Array","array","map","node","lookupArray","add","__DEV__","freeze","proto_1","array_1","keys","sortedKeys","push","json","firstValueIndex_1","length","sorted","forEach","key","object","obj_1","create","i","obj","sort","JSON","stringify","canonicalStringify","assign","stringifyCanon","resetCanonicalStringify","canonical","stringifyCache","reset"],"sources":["F:/Bureau/Test_MachinesTalk/MachinesTalk/node_modules/@apollo/client/cache/inmemory/object-canon.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport \"../../utilities/globals/index.js\";\nimport { Trie } from \"@wry/trie\";\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray, } from \"../../utilities/index.js\";\nimport { isArray } from \"./helpers.js\";\nfunction shallowCopy(value) {\n    if (isObjectOrArray(value)) {\n        return isArray(value)\n            ? value.slice(0)\n            : __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n    }\n    return value;\n}\nvar ObjectCanon = (function () {\n    function ObjectCanon() {\n        this.known = new (canUseWeakSet ? WeakSet : Set)();\n        this.pool = new Trie(canUseWeakMap);\n        this.passes = new WeakMap();\n        this.keysByJSON = new Map();\n        this.empty = this.admit({});\n    }\n    ObjectCanon.prototype.isKnown = function (value) {\n        return isObjectOrArray(value) && this.known.has(value);\n    };\n    ObjectCanon.prototype.pass = function (value) {\n        if (isObjectOrArray(value)) {\n            var copy = shallowCopy(value);\n            this.passes.set(copy, value);\n            return copy;\n        }\n        return value;\n    };\n    ObjectCanon.prototype.admit = function (value) {\n        var _this = this;\n        if (isObjectOrArray(value)) {\n            var original = this.passes.get(value);\n            if (original)\n                return original;\n            var proto = Object.getPrototypeOf(value);\n            switch (proto) {\n                case Array.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var array = value.map(this.admit, this);\n                    var node = this.pool.lookupArray(array);\n                    if (!node.array) {\n                        this.known.add(node.array = array);\n                        if (__DEV__) {\n                            Object.freeze(array);\n                        }\n                    }\n                    return node.array;\n                }\n                case null:\n                case Object.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var proto_1 = Object.getPrototypeOf(value);\n                    var array_1 = [proto_1];\n                    var keys = this.sortedKeys(value);\n                    array_1.push(keys.json);\n                    var firstValueIndex_1 = array_1.length;\n                    keys.sorted.forEach(function (key) {\n                        array_1.push(_this.admit(value[key]));\n                    });\n                    var node = this.pool.lookupArray(array_1);\n                    if (!node.object) {\n                        var obj_1 = node.object = Object.create(proto_1);\n                        this.known.add(obj_1);\n                        keys.sorted.forEach(function (key, i) {\n                            obj_1[key] = array_1[firstValueIndex_1 + i];\n                        });\n                        if (__DEV__) {\n                            Object.freeze(obj_1);\n                        }\n                    }\n                    return node.object;\n                }\n            }\n        }\n        return value;\n    };\n    ObjectCanon.prototype.sortedKeys = function (obj) {\n        var keys = Object.keys(obj);\n        var node = this.pool.lookupArray(keys);\n        if (!node.keys) {\n            keys.sort();\n            var json = JSON.stringify(keys);\n            if (!(node.keys = this.keysByJSON.get(json))) {\n                this.keysByJSON.set(json, node.keys = { sorted: keys, json: json });\n            }\n        }\n        return node.keys;\n    };\n    return ObjectCanon;\n}());\nexport { ObjectCanon };\nexport var canonicalStringify = Object.assign(function (value) {\n    if (isObjectOrArray(value)) {\n        if (stringifyCanon === void 0) {\n            resetCanonicalStringify();\n        }\n        var canonical = stringifyCanon.admit(value);\n        var json = stringifyCache.get(canonical);\n        if (json === void 0) {\n            stringifyCache.set(canonical, json = JSON.stringify(canonical));\n        }\n        return json;\n    }\n    return JSON.stringify(value);\n}, {\n    reset: resetCanonicalStringify,\n});\nvar stringifyCanon;\nvar stringifyCache;\nfunction resetCanonicalStringify() {\n    stringifyCanon = new ObjectCanon;\n    stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}